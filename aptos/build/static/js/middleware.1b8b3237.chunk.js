"use strict";(self.webpackChunk_petra_extension=self.webpackChunk_petra_extension||[]).push([[826],{78710:(e,n,t)=>{t.r(n),t.d(n,{applyDestinationMiddleware:()=>u,sourceMiddlewarePlugin:()=>l});var r=t(9161),i=t(94782),a=t(74549),o=t(81457);function u(e,n,t){return(0,r.mG)(this,void 0,void 0,(function(){function i(n,t){return(0,r.mG)(this,void 0,void 0,(function(){var i,u,l;return(0,r.Jh)(this,(function(s){switch(s.label){case 0:return i=!1,u=null,[4,(0,a.O)(t({payload:(0,o.D)(n,{clone:!0,traverse:!1}),integration:e,next:function(e){i=!0,null===e&&(u=null),e&&(u=e.obj)}}))];case 1:return s.sent(),i||null===u||(u.integrations=(0,r.pi)((0,r.pi)({},n.integrations),((l={})[e]=!1,l))),[2,u]}}))}))}var u,l,s,c;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:u=0,l=t,e.label=1;case 1:return u<l.length?(s=l[u],[4,i(n,s)]):[3,4];case 2:if(null===(c=e.sent()))return[2,null];n=c,e.label=3;case 3:return u++,[3,1];case 4:return[2,n]}}))}))}function l(e,n){function t(t){return(0,r.mG)(this,void 0,void 0,(function(){var u;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return u=!1,[4,(0,a.O)(e({payload:(0,o.D)(t.event,{clone:!0,traverse:!1}),integrations:null!==n&&void 0!==n?n:{},next:function(e){u=!0,e&&(t.event=e.obj)}}))];case 1:if(r.sent(),!u)throw new i.Y({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,t]}}))}))}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(e){return Promise.resolve(e)},track:t,page:t,identify:t,alias:t,group:t}}}}]);